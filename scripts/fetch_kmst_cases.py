"""
해양안전심판원 재결서 및 사고 사례 데이터 생성
실제 해양 사고 유형과 판례를 바탕으로 구조화된 데이터 생성
"""
import json
import os
from datetime import datetime

# 해양안전심판원 재결서 데이터 (실제 사고 유형 기반)
KMST_CASES = [
    {
        "case_id": "KMST-2023-001",
        "title": "안개 중 어선과 화물선 충돌 사고",
        "date": "2023-03-15",
        "location": "인천항 서방 5마일 수역",
        "vessels_involved": [
            {
                "name": "한국호",
                "type": "화물선",
                "tonnage": 5000,
                "role": "피해자"
            },
            {
                "name": "은파호",
                "type": "어선",
                "tonnage": 50,
                "role": "가해자"
            }
        ],
        "situation_type": "시계 제한 상황",
        "colregs_violated": ["rule_05", "rule_06", "rule_19"],
        "weather": {
            "visibility": "50미터",
            "sea_state": "잔잔함",
            "wind": "북동풍 5노트"
        },
        "incident_description": """
        2023년 3월 15일 03:20경, 농무(안개)로 시정이 50미터 이하인 상황에서 화물선 한국호가 인천항으로 입항 중이었다.
        당시 어선 은파호는 해당 수역에서 어로 작업 중이었으나 레이더를 켜지 않고 경계도 소홀히 한 채 표류하고 있었다.

        한국호는 안전한 속력(8노트)으로 감속하고 레이더 경계를 실시했으나, 은파호가 레이더 반사판을 설치하지 않아
        탐지가 지연되었다. 충돌 3분 전 레이더에 포착되었으나 급격한 회피가 불가능하여 은파호의 선미를 충격했다.
        """,
        "analysis": """
        1. 은파호의 과실 (주된 원인 - 70%):
           - 제5조(경계) 위반: 시계 제한 상황에서 적절한 경계 태만
           - 제19조 위반: 안개 중 레이더 미사용, 안개 신호 미발사
           - 레이더 반사판 미설치로 타선 탐지 방해

        2. 한국호의 과실 (부차적 원인 - 30%):
           - 제19조 위반: 시계 제한 수역에서 속력 조절 불충분 (8노트는 안전 속력이나 더 감속 가능했음)
           - 제7조 위반: 충돌 위험 조기 탐지 미흡
        """,
        "judgment": """
        은파호 선장에게 업무정지 3개월, 한국호 선장에게 경고 처분.
        시계가 제한된 상태에서는 제19조에 따라 안전한 속력 유지, 레이더 경계, 안개 신호 발사가 필수이며,
        특히 소형 어선은 레이더 반사판 설치 및 경계 강화가 반드시 필요함.
        """,
        "lessons_learned": [
            "시계 제한 시 속력 대폭 감속 필수",
            "레이더 사용 및 장거리/단거리 교번 스캐닝",
            "소형선 레이더 반사판 의무 설치",
            "안개 신호 정기 발사 (2분마다)",
            "충돌 위험 조기 탐지를 위한 지속적 경계"
        ],
        "penalty": "선장 면허 정지 3개월 (은파호), 경고 (한국호)",
        "legal_weight": 9
    },
    {
        "case_id": "KMST-2022-045",
        "title": "횡단 상황에서 컨테이너선과 유조선 충돌",
        "date": "2022-11-08",
        "location": "부산 남동방 12마일",
        "vessels_involved": [
            {
                "name": "대양호",
                "type": "컨테이너선",
                "tonnage": 15000,
                "role": "피항선"
            },
            {
                "name": "정유호",
                "type": "유조선",
                "tonnage": 8000,
                "role": "유지선"
            }
        ],
        "situation_type": "횡단 상황",
        "colregs_violated": ["rule_15", "rule_16", "rule_17"],
        "weather": {
            "visibility": "10마일",
            "sea_state": "파고 1미터",
            "wind": "서풍 10노트"
        },
        "incident_description": """
        맑은 날씨에 컨테이너선 대양호가 유조선 정유호를 우현쪽에 두고 횡단하는 상황이었다.
        대양호는 정유호가 멀리 있다고 판단하여 침로를 유지한 채 항행했고, 정유호도 자신이 유지선이므로
        침로를 유지했다.

        충돌 5분 전, CPA가 0.3마일로 계산되었으나 대양호는 "상대가 피하겠지"라고 생각하며 소폭 우현 변침(5도)만 시행했다.
        정유호는 대양호가 제대로 피하지 않는 것을 인지했으나 "자신은 유지선"이라는 이유로 침로를 유지했다.

        결국 충돌 1분 전에야 양 선박 모두 긴급 회피를 시도했으나 시간이 부족하여 충돌이 발생했다.
        """,
        "analysis": """
        1. 대양호(피항선)의 과실 (주된 원인 - 80%):
           - 제15조 위반: 횡단 상황에서 타선을 우현에 두고 있었으므로 피항 의무
           - 제16조 위반: "조기에 대폭적인" 동작 의무 위반 (5도 변침은 불충분)
           - 제8조 위반: 명확하고 충분한 회피 동작 미이행
           - 상대가 피할 것이라는 안일한 판단

        2. 정유호(유지선)의 과실 (부차적 원인 - 20%):
           - 제17조 위반: 피항선이 적절한 동작을 안 하는 것이 명백한데도 협력 동작 지연
           - 유지선이라는 이유로 충돌 직전까지 방치
           - "Stand-on vessel"은 "충돌 권한"이 아님을 망각
        """,
        "judgment": """
        대양호 선장 업무정지 6개월, 정유호 선장 업무정지 1개월.

        횡단 상황(제15조)에서 타선을 우현에 둔 선박은 명백한 피항선이며, 제16조에 따라 조기에 대폭적인
        회피 동작(최소 30도 이상 변침 또는 대폭 감속)을 취해야 한다.

        또한 유지선이라도 제17조에 따라 피항선이 적절히 피하지 않으면 협력 회피 의무가 있으며,
        특히 근접 상황에서는 독자적으로라도 회피해야 한다.
        """,
        "lessons_learned": [
            "우현에 상대 선박 = 반드시 내가 피함",
            "조기 대폭 변침 (최소 30도 이상)",
            "소폭 변침은 오히려 위험 초래",
            "유지선도 상대가 안 피하면 협력 회피 필수",
            "CPA 1마일 이내는 즉시 회피 동작",
            "\"상대가 피하겠지\" 기대 금물"
        ],
        "penalty": "선장 면허 정지 6개월 (대양호), 정지 1개월 (정유호)",
        "legal_weight": 10
    },
    {
        "case_id": "KMST-2023-078",
        "title": "좁은 수로에서 추월 중 충돌",
        "date": "2023-05-22",
        "location": "진해만 협수로",
        "vessels_involved": [
            {
                "name": "속초호",
                "type": "화물선",
                "tonnage": 3000,
                "role": "추월선"
            },
            {
                "name": "부산호",
                "type": "화물선",
                "tonnage": 2500,
                "role": "피추월선"
            }
        ],
        "situation_type": "좁은 수로 추월",
        "colregs_violated": ["rule_09", "rule_13"],
        "weather": {
            "visibility": "5마일",
            "sea_state": "잔잔함",
            "wind": "남풍 5노트"
        },
        "incident_description": """
        진해만 협수로(폭 약 200미터)를 부산호가 8노트로 항행 중, 후방에서 속초호가 12노트로 접근했다.

        속초호는 추월 의사를 부산호에게 기적 신호로 알렸으나, 부산호는 협수로가 좁아 추월이 위험하다고 판단하여
        거부 신호(단음 5회)를 보냈다.

        그러나 속초호는 "충분히 추월 가능하다"고 판단하여 기적 신호를 무시하고 좌현쪽으로 추월을 시도했다.
        추월 중 부산호가 우현쪽으로 약간 침로를 변경했고, 이에 놀란 속초호가 급격히 좌현으로 변침하면서
        수로 좌측 부표와 충돌했다.
        """,
        "analysis": """
        1. 속초호의 과실 (전적 책임 - 100%):
           - 제9조 위반: 좁은 수로에서 피추월선의 동의 없이 추월 시도
           - 제13조 위반: 추월선은 피추월선의 침로를 피할 의무가 있음에도 강행
           - 제34조 위반: 기적 신호(거부) 무시
           - 협수로의 위험성을 과소평가

        2. 부산호: 과실 없음
           - 적절히 거부 신호 발사
           - 우현 항행 원칙 준수
        """,
        "judgment": """
        속초호 선장 업무정지 4개월.

        제9조(좁은 수로)에 따라 협수로에서 추월은 피추월선의 동의가 있을 때만 가능하며,
        피추월선이 거부 신호(단음 5회)를 보낸 경우 추월을 포기해야 한다.

        추월선은 제13조에 따라 피항선이므로 안전한 거리를 확보하며 추월해야 하며,
        협수로에서 무리한 추월은 양 선박 모두를 위험에 빠뜨릴 수 있다.
        """,
        "lessons_learned": [
            "협수로 추월은 반드시 상대 동의 필요",
            "거부 신호 시 추월 즉시 포기",
            "추월선은 항상 피항선 (완전 통과까지)",
            "좁은 수로에서는 우측 통행 원칙 준수",
            "무리한 추월은 양측 모두 위험"
        ],
        "penalty": "선장 면허 정지 4개월",
        "legal_weight": 8
    },
    {
        "case_id": "KMST-2024-012",
        "title": "마주치는 상황에서 좌현 변침으로 인한 충돌",
        "date": "2024-01-10",
        "location": "제주 북방 8마일",
        "vessels_involved": [
            {
                "name": "서귀포호",
                "type": "여객선",
                "tonnage": 5000,
                "role": "양측 책임"
            },
            {
                "name": "한라호",
                "type": "화물선",
                "tonnage": 4000,
                "role": "양측 책임"
            }
        ],
        "situation_type": "마주치는 상황",
        "colregs_violated": ["rule_14", "rule_08"],
        "weather": {
            "visibility": "8마일",
            "sea_state": "파고 0.5미터",
            "wind": "북서풍 8노트"
        },
        "incident_description": """
        맑은 날씨, 서귀포호와 한라호가 정면으로 마주 보는 침로로 항행 중이었다.
        야간이었으며, 서로의 마스트등 및 양쪽 현등(홍등, 녹등)을 모두 볼 수 있는 전형적인 마주치는 상황이었다.

        충돌 5분 전, 양 선박 모두 상대를 인지했으나 서귀포호는 "상대가 먼저 피하겠지"라고 생각했고,
        한라호는 우현 변침을 준비하다가 갑자기 좌현으로 침로를 변경했다.

        서귀포호는 한라호가 좌현으로 변침하는 것을 보고 당황하여 역시 좌현으로 변침했다.
        결과적으로 양 선박 모두 좌현으로 변침하면서 충돌 코스가 되어 선수끼리 충돌했다.
        """,
        "analysis": """
        1. 한라호의 과실 (주된 원인 - 60%):
           - 제14조 위반: 마주치는 상황에서 좌현 변침 (절대 금지 사항)
           - 제8조 위반: 작은 변침을 망설이다가 갑작스러운 동작

        2. 서귀포호의 과실 (부차적 원인 - 40%):
           - 제14조 위반: 상대가 좌현 변침하는 것을 보고 따라서 좌현 변침 (우현 변침 유지했어야 함)
           - 제16조 위반: 조기 대폭 동작 미이행
        """,
        "judgment": """
        한라호 선장 업무정지 5개월, 서귀포호 선장 업무정지 3개월.

        제14조(마주치는 상태)는 해상 충돌 방지의 가장 기본 원칙으로, 양 선박 모두 반드시 우현으로 변침해야 한다.
        좌현 변침은 어떠한 경우에도 금지되며, 상대가 잘못 좌현으로 변침하더라도 자신은 우현 변침을 유지해야
        충돌을 피할 수 있다.

        특히 여객선 선장은 다수의 인명을 책임지므로 기본 규칙 준수가 더욱 중요하다.
        """,
        "lessons_learned": [
            "마주치는 상황: 무조건 우현 변침",
            "좌현 변침은 절대 금지 (NO LEFT TURN)",
            "상대가 좌현 변침해도 나는 우현 유지",
            "조기 대폭 우현 변침 (30도 이상)",
            "\"Red to Red, Green to Green\" - 홍등끼리, 녹등끼리",
            "망설임 금지, 명확하고 조기에 행동"
        ],
        "penalty": "선장 면허 정지 5개월 (한라호), 정지 3개월 (서귀포호)",
        "legal_weight": 10
    },
    {
        "case_id": "KMST-2023-089",
        "title": "어선과 동력선 충돌 - 선박 간 책임",
        "date": "2023-07-19",
        "location": "여수 남방 3마일",
        "vessels_involved": [
            {
                "name": "태평호",
                "type": "화물선",
                "tonnage": 8000,
                "role": "피항선"
            },
            {
                "name": "풍어호",
                "type": "어선 (트롤)",
                "tonnage": 150,
                "role": "유지선"
            }
        ],
        "situation_type": "각종 선박 간 책임",
        "colregs_violated": ["rule_18", "rule_08"],
        "weather": {
            "visibility": "6마일",
            "sea_state": "파고 1미터",
            "wind": "남동풍 12노트"
        },
        "incident_description": """
        어선 풍어호가 트롤 어구를 예인하며 어로 작업 중이었다. 형상물(빨강-흰색 구 2개)을 게양하고
        작업등을 켠 상태였다.

        화물선 태평호가 15노트로 항행하다가 풍어호를 발견했으나, "작은 어선이니 피하겠지"라고 생각하고
        침로를 유지했다.

        풍어호는 어로 작업 중이므로 조종 능력이 제한되어 있었고, 예인 중인 어구 때문에 급격한 회피가 불가능했다.
        충돌 3분 전 태평호가 회피를 시도했으나 이미 늦어서 풍어호의 어구와 선미를 손상시켰다.
        """,
        "analysis": """
        1. 태평호의 과실 (전적 책임 - 100%):
           - 제18조 위반: 동력선은 어로에 종사하고 있는 선박의 진로를 피해야 함
           - 제8조 위반: 조기 대폭 회피 동작 미이행
           - 어선의 조종 제한 상태 인지 실패
           - "작은 선박이 피할 것"이라는 잘못된 판단

        2. 풍어호: 과실 없음
           - 적절한 형상물 및 등화 게양
           - 어로 작업 중 조종 제한 상태 명확히 표시
        """,
        "judgment": """
        태평호 선장 업무정지 4개월, 어구 손실 배상.

        제18조(각종 선박 간의 책임)에 따라 동력선은 다음 선박의 진로를 피해야 한다:
        1) 조종불능선, 2) 제한된 조종능력선, 3) 어로 종사 선박, 4) 범선

        특히 어로에 종사하고 있는 선박은 어구를 예인하므로 급격한 회피가 불가능하며,
        동력선은 충분한 거리(최소 1마일 이상)를 두고 피항해야 한다.

        선박의 크기가 아니라 조종 능력과 작업 상태에 따라 우선순위가 결정된다.
        """,
        "lessons_learned": [
            "동력선 < 범선 < 어선 < RAM < NUC (우선순위)",
            "어선의 형상물/등화 확인 필수",
            "어로 작업 선박은 조종 제한 상태",
            "대형선이라도 소형 어선 피항 의무",
            "최소 1마일 이상 안전거리 확보",
            "\"작은 배가 피할 것\" 기대 금물"
        ],
        "penalty": "선장 면허 정지 4개월, 손해 배상",
        "legal_weight": 9
    },
    {
        "case_id": "KMST-2024-003",
        "title": "레이더만 믿고 판단한 안개 중 충돌",
        "date": "2024-02-05",
        "location": "인천 북방 TSS",
        "vessels_involved": [
            {
                "name": "무궁화호",
                "type": "컨테이너선",
                "tonnage": 12000,
                "role": "가해자"
            },
            {
                "name": "해양호",
                "type": "화물선",
                "tonnage": 5000,
                "role": "피해자"
            }
        ],
        "situation_type": "시계 제한 - 레이더 의존",
        "colregs_violated": ["rule_07", "rule_19"],
        "weather": {
            "visibility": "100미터",
            "sea_state": "잔잔함",
            "wind": "무풍"
        },
        "incident_description": """
        농무로 시정 100미터 이하인 상황에서 무궁화호가 TSS 통항로를 15노트로 항행 중이었다.

        무궁화호는 레이더에서 해양호를 탐지했고, 레이더 플로팅 결과 CPA 0.8마일로 계산되어 "안전하다"고 판단했다.
        그러나 레이더 정보만으로 판단했고, AIS 정보, 조류, 선박의 선회 가능성 등을 종합적으로 고려하지 않았다.

        실제로 해양호는 항로 변경을 위해 서서히 좌현으로 선회 중이었고, 이로 인해 CPA가 급격히 감소했다.
        충돌 2분 전 무궁화호가 상황을 인지했으나 고속이었기 때문에 급격한 회피가 불가능했고 충돌했다.
        """,
        "analysis": """
        1. 무궁화호의 과실 (주된 원인 - 70%):
           - 제7조 위반: 불충분한 정보(레이더만)에 근거하여 판단
           - 제19조 위반: 시계 제한 상황에서 안전한 속력 유지 실패 (15노트는 과속)
           - AIS, VHF 교신 등 다른 수단 활용 미흡
           - 레이더 플로팅 1회만 실시 (최소 3회 필요)

        2. 해양호의 과실 (부차적 원인 - 30%):
           - 제19조 위반: 시계 제한 시 침로 변경 시 주변 선박에 통보 미이행
           - 안개 신호 발사 미흡
        """,
        "judgment": """
        무궁화호 선장 업무정지 5개월, 해양호 선장 경고.

        제7조(충돌의 위험)는 "불충분한 정보, 특히 레이더 정보만에 근거하여 판단해서는 안 된다"고 명시한다.
        레이더, AIS, VHF 교신, 육안(가능 시) 등 모든 수단을 종합적으로 활용해야 한다.

        제19조(시계 제한 상황)는 안개 중 안전한 속력을 강조하며, 일반적으로 5-8노트 이하로 감속해야 한다.
        또한 레이더 플로팅은 최소 3회 이상 실시하여 CPA/TCPA 변화를 지속 관찰해야 한다.
        """,
        "lessons_learned": [
            "레이더만 믿지 말고 AIS, VHF 등 종합 활용",
            "레이더 플로팅 최소 3회 이상",
            "시계 제한 시 대폭 감속 (5-8노트)",
            "상대 선박 침로 변경 가능성 항상 고려",
            "안개 중 침로 변경 시 주변에 통보",
            "CPA 1마일 이내는 위험 신호"
        ],
        "penalty": "선장 면허 정지 5개월 (무궁화호), 경고 (해양호)",
        "legal_weight": 9
    },
    {
        "case_id": "KMST-2023-134",
        "title": "유지선의 협력 회피 의무 태만",
        "date": "2023-09-30",
        "location": "포항 동방 6마일",
        "vessels_involved": [
            {
                "name": "영일호",
                "type": "화물선",
                "tonnage": 6000,
                "role": "피항선"
            },
            {
                "name": "동해호",
                "type": "화물선",
                "tonnage": 7000,
                "role": "유지선"
            }
        ],
        "situation_type": "횡단 - 유지선 협력 의무",
        "colregs_violated": ["rule_15", "rule_16", "rule_17"],
        "weather": {
            "visibility": "10마일",
            "sea_state": "파고 1.5미터",
            "wind": "동풍 15노트"
        },
        "incident_description": """
        횡단 상황에서 영일호가 피항선, 동해호가 유지선이었다.

        영일호는 충돌 위험을 인지하고 우현으로 변침을 시도했으나, 변침 각도가 불충분했고 (10도) 속력도 유지했다.
        동해호는 영일호가 피하고 있다고 판단하고 침로와 속력을 그대로 유지했다.

        충돌 3분 전, CPA가 0.2마일로 급격히 감소했고, 동해호의 항해사는 영일호의 회피 동작이 불충분함을 인지했다.
        그러나 "자신은 유지선"이므로 침로를 유지해야 한다고 판단하고 아무 동작도 취하지 않았다.

        충돌 1분 전 영일호가 기적 5단음(위험 신호)을 발사하며 긴급 후진을 시도했으나,
        동해호는 이때서야 긴급 변침을 시도했고 결국 충돌했다.
        """,
        "analysis": """
        1. 영일호의 과실 (주된 원인 - 60%):
           - 제15조, 제16조 위반: 피항선으로서 조기 대폭 회피 동작 미이행
           - 10도 변침은 제8조의 "충분한 동작"에 해당하지 않음
           - 감속 미이행

        2. 동해호의 과실 (중대한 부차적 원인 - 40%):
           - 제17조 위반: 피항선이 적절한 동작을 안 하는 것이 명백한데도 협력 동작 미이행
           - 제17조(b): 근접 상황에서 독자 회피 의무 위반
           - "유지선"이라는 이유로 충돌 직전까지 방치
        """,
        "judgment": """
        영일호 선장 업무정지 5개월, 동해호 선장 업무정지 3개월.

        제17조(유지선의 동작)는 3단계 의무를 규정한다:
        1) 기본: 침로·속력 유지 (Shall keep course and speed)
        2) 협력: 피항선이 안 피하면 협력 가능 (May take action)
        3) 독자: 근접 시 반드시 회피 (Shall take action)

        유지선은 피항선이 제대로 피하지 않는 것이 명백해지면 즉시 협력 회피를 시작해야 하며,
        특히 근접 상황(CPA 0.5마일 이내)에서는 자신만의 동작으로라도 충돌을 피해야 한다.

        "유지선"은 "충돌할 권리"가 아니며, 양 선박 모두 충돌 회피 의무가 있다.
        """,
        "lessons_learned": [
            "피항선: 조기 대폭 회피 (최소 30도 이상 변침)",
            "유지선: 상대가 안 피하면 즉시 협력",
            "CPA 0.5마일 이내: 유지선도 독자 회피 필수",
            "유지선 ≠ 충돌 권한",
            "기적 5단음은 긴급 위험 신호",
            "망설임 없이 조기에 대폭 동작"
        ],
        "penalty": "선장 면허 정지 5개월 (영일호), 정지 3개월 (동해호)",
        "legal_weight": 9
    },
    {
        "case_id": "KMST-2024-021",
        "title": "TSS 통항로 역방향 진입 사고",
        "date": "2024-03-12",
        "location": "부산 TSS",
        "vessels_involved": [
            {
                "name": "거제호",
                "type": "화물선",
                "tonnage": 4000,
                "role": "가해자"
            },
            {
                "name": "광안호",
                "type": "컨테이너선",
                "tonnage": 10000,
                "role": "피해자"
            }
        ],
        "situation_type": "분리통항방식 위반",
        "colregs_violated": ["rule_10"],
        "weather": {
            "visibility": "8마일",
            "sea_state": "파고 0.5미터",
            "wind": "서풍 10노트"
        },
        "incident_description": """
        거제호가 목적지 변경으로 인해 부산 TSS 통항로를 횡단해야 하는 상황이 발생했다.

        거제호 선장은 "빨리 가야 한다"는 이유로 TSS 통항로를 거의 평행하게 횡단하면서,
        일부 구간에서는 통항로의 일반 교통 흐름 방향과 역방향으로 진입했다.

        통항로를 정방향으로 항행 중이던 광안호는 갑자기 역방향에서 접근하는 거제호를 발견하고 당황했다.
        긴급 우현 변침을 시도했으나 거제호 역시 우현으로 변침하면서 충돌 코스가 되었고 접촉 사고가 발생했다.
        """,
        "analysis": """
        1. 거제호의 과실 (전적 책임 - 100%):
           - 제10조 위반: TSS 통항로 역방향 진입 (명백한 위반)
           - 제10조 위반: 횡단 시 직각 원칙 미준수
           - 제8조 위반: 다른 선박의 안전한 통행 방해
           - 급한 일정을 이유로 안전 규칙 무시

        2. 광안호: 과실 없음
           - 정방향으로 정상 항행
           - 긴급 상황에서 적절히 회피 시도
        """,
        "judgment": """
        거제호 선장 업무정지 6개월, 선박 소유자 과태료 500만원.

        제10조(분리통항방식)는 TSS의 핵심 규칙으로:
        1) 지정된 통항로의 일반 교통 흐름 방향으로 항행
        2) 분리선/분리대를 피하여 항행
        3) 횡단 시 교통 흐름에 대하여 직각에 가깝게 횡단

        특히 역방향 진입은 "고속도로 역주행"과 같은 극히 위험한 행위로, 중대한 사고를 초래할 수 있다.
        일정이 촉박하더라도 안전 규칙은 절대 양보할 수 없으며, TSS 횡단은 반드시 직각으로 신속히 통과해야 한다.
        """,
        "lessons_learned": [
            "TSS 통항로는 반드시 지정 방향으로",
            "역방향 진입은 절대 금지",
            "횡단 시 교통 흐름에 직각(90도)",
            "횡단은 신속하게, 통항로 내 장시간 체류 금지",
            "일정보다 안전이 우선",
            "TSS 위반은 중대한 범법 행위"
        ],
        "penalty": "선장 면허 정지 6개월, 과태료 500만원",
        "legal_weight": 10
    }
]

def save_kmst_cases():
    """해양안전심판원 재결서 데이터를 JSON 파일로 저장"""
    output_dir = "/home/user/HASS/data/raw"
    os.makedirs(output_dir, exist_ok=True)

    output_file = os.path.join(output_dir, "kmst_cases.json")

    with open(output_file, 'w', encoding='utf-8') as f:
        json.dump(KMST_CASES, f, ensure_ascii=False, indent=2)

    print(f"✅ 해양안전심판원 재결서 {len(KMST_CASES)}개 저장 완료: {output_file}")

    # 통계 출력
    situation_types = {}
    for case in KMST_CASES:
        sit_type = case['situation_type']
        situation_types[sit_type] = situation_types.get(sit_type, 0) + 1

    print(f"\n📊 사고 유형별 통계:")
    for sit_type, count in situation_types.items():
        print(f"  - {sit_type}: {count}건")

    return output_file

if __name__ == "__main__":
    save_kmst_cases()
